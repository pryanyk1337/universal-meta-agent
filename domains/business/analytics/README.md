# Домен: Бизнес-аналитика

## Описание области
Бизнес-аналитика (Business Analytics) — процесс сбора, анализа и интерпретации данных для принятия обоснованных бизнес-решений. Включает data analysis, reporting, прогнозирование и оптимизацию бизнес-процессов.

## Ключевые компетенции
- Анализ данных
- Визуализация данных
- Статистический анализ
- Прогнозирование
- A/B тестирование
- SQL и работа с базами данных
- Business Intelligence (BI)
- KPI и метрики

## Основные концепции
### Типы аналитики:
1. **Descriptive** (Описательная): Что произошло?
   - Отчёты и дашборды
   - Исторические данные
   - KPI мониторинг

2. **Diagnostic** (Диагностическая): Почему это произошло?
   - Корреляционный анализ
   - Drill-down анализ
   - Поиск причин

3. **Predictive** (Предиктивная): Что произойдёт?
   - Прогнозирование
   - Машинное обучение
   - Тренды

4. **Prescriptive** (Предписывающая): Что делать?
   - Рекомендации
   - Оптимизация
   - Сценарное планирование

## Процесс анализа данных
### Этапы:
1. **Определение вопроса**: Что мы хотим узнать?
2. **Сбор данных**: Откуда берём информацию?
3. **Очистка данных**: Удаление ошибок, дубликатов
4. **Анализ**: Применение методов
5. **Визуализация**: Представление результатов
6. **Интерпретация**: Что означают результаты?
7. **Коммуникация**: Презентация инсайтов
8. **Действие**: Принятие решений

## Ключевые метрики бизнеса
### Финансовые:
- **Revenue** (выручка)
- **Profit Margin** (маржа прибыли)
- **EBITDA** (операционная прибыль)
- **ROI** (Return on Investment)
- **Cash Flow** (денежный поток)
- **Burn Rate** (скорость сжигания денег)

### Продуктовые:
- **MAU/DAU** (месячная/дневная активная аудитория)
- **Retention Rate** (удержание пользователей)
- **Churn Rate** (отток)
- **Time in App** (время в приложении)
- **Feature Adoption** (принятие функций)

### Маркетинговые:
- **CAC** (Customer Acquisition Cost)
- **LTV** (Lifetime Value)
- **ROAS** (Return on Ad Spend)
- **Conversion Rate** (конверсия)
- **CTR** (Click-Through Rate)

### Операционные:
- **Cycle Time** (время цикла)
- **Lead Time** (время выполнения)
- **Defect Rate** (процент дефектов)
- **Capacity Utilization** (загрузка мощностей)

## Инструменты аналитики
### Визуализация и BI:
- **Tableau**: мощная визуализация
- **Power BI**: Microsoft ecosystem
- **Google Data Studio**: бесплатный, интеграция с Google
- **Metabase**: open-source BI
- **Looker**: modern BI platform

### Веб-аналитика:
- **Google Analytics**: стандарт веб-аналитики
- **Яндекс.Метрика**: для российского рынка
- **Amplitude**: product analytics
- **Mixpanel**: event tracking

### Работа с данными:
- **SQL**: язык запросов к БД
- **Python**: pandas, numpy, matplotlib
- **R**: статистический анализ
- **Excel/Google Sheets**: базовый анализ

### Базы данных:
- **PostgreSQL, MySQL**: реляционные БД
- **MongoDB**: NoSQL
- **BigQuery**: data warehouse от Google
- **Redshift**: data warehouse от Amazon

## SQL для аналитики
### Основные запросы:
```sql
-- Базовая выборка
SELECT column1, column2
FROM table_name
WHERE condition
ORDER BY column1 DESC;

-- Агрегация
SELECT 
  category,
  COUNT(*) as count,
  AVG(price) as avg_price,
  SUM(revenue) as total_revenue
FROM sales
GROUP BY category
HAVING total_revenue > 10000;

-- Объединение таблиц
SELECT 
  u.name,
  COUNT(o.id) as order_count
FROM users u
LEFT JOIN orders o ON u.id = o.user_id
GROUP BY u.name;
```

### Оконные функции:
```sql
-- Ранжирование
SELECT 
  product_name,
  revenue,
  RANK() OVER (ORDER BY revenue DESC) as rank
FROM products;

-- Скользящее среднее
SELECT 
  date,
  revenue,
  AVG(revenue) OVER (
    ORDER BY date 
    ROWS BETWEEN 6 PRECEDING AND CURRENT ROW
  ) as moving_avg_7d
FROM daily_sales;
```

## Статистический анализ
### Основные понятия:
- **Среднее** (Mean): средняя величина
- **Медиана** (Median): середина распределения
- **Мода** (Mode): наиболее частое значение
- **Стандартное отклонение**: мера разброса
- **Корреляция**: связь между переменными
- **Регрессия**: предсказание значений

### Проверка гипотез:
- **Нулевая гипотеза** (H0): нет эффекта
- **Альтернативная гипотеза** (H1): есть эффект
- **P-value**: вероятность ошибки
- **Уровень значимости** (обычно 0.05)

## A/B тестирование
### Процесс:
1. **Гипотеза**: Что мы хотим улучшить?
2. **Метрика**: Как измеряем успех?
3. **Дизайн теста**: Контрольная vs Тестовая группа
4. **Размер выборки**: Сколько пользователей нужно?
5. **Запуск**: Разделение трафика 50/50
6. **Анализ**: Статистическая значимость
7. **Решение**: Внедрять или нет?

### Метрики A/B теста:
- **Conversion Rate**: основная метрика
- **Statistical Significance**: достоверность результата
- **Confidence Interval**: доверительный интервал
- **Sample Size**: размер выборки

### Типичные ошибки:
- Недостаточный размер выборки
- Множественное тестирование
- Раннее завершение теста
- Игнорирование сезонности

## Когортный анализ
### Определение:
Анализ групп пользователей, объединённых общей характеристикой (например, месяц регистрации).

### Применение:
- **Retention**: удержание по когортам
- **LTV**: ценность по когортам
- **Feature adoption**: принятие функций

### Пример:
```
Когорта  | Week 0 | Week 1 | Week 2 | Week 3
---------|--------|--------|--------|--------
Jan 2024 | 100%   | 45%    | 32%    | 28%
Feb 2024 | 100%   | 52%    | 40%    | 35%
Mar 2024 | 100%   | 58%    | 48%    | 42%
```

## Воронки (Funnels)
### Типичная воронка продаж:
1. **Визит**: пользователь заходит на сайт
2. **Просмотр продукта**: изучает товар
3. **Добавление в корзину**: намерение купить
4. **Оформление заказа**: начинает покупку
5. **Оплата**: завершает покупку

### Метрики:
- **Conversion Rate** на каждом этапе
- **Drop-off Rate**: где теряем пользователей
- **Time to Convert**: время конверсии

### Оптимизация:
- Находим этап с наибольшим отвалом
- Выдвигаем гипотезы причин
- Тестируем улучшения
- Измеряем результат

## Визуализация данных
### Типы графиков:
- **Line Chart**: тренды во времени
- **Bar Chart**: сравнение категорий
- **Pie Chart**: доли (использовать редко)
- **Scatter Plot**: корреляции
- **Heatmap**: паттерны в матрице
- **Funnel**: воронки конверсии
- **Cohort Table**: когортный анализ

### Принципы визуализации:
1. **Простота**: не перегружайте
2. **Ясность**: легко понять главное
3. **Честность**: не искажайте данные
4. **Контекст**: добавляйте пояснения
5. **Цвет**: используйте осмысленно

## Дашборды
### Структура хорошего дашборда:
1. **Заголовок**: что показывает дашборд
2. **Период**: временной диапазон
3. **KPI**: ключевые метрики сверху
4. **Тренды**: графики изменений
5. **Breakdown**: детализация
6. **Фильтры**: возможность углубиться

### Best Practices:
- Самое важное — сверху слева
- Используйте единую цветовую схему
- Добавляйте сравнение с прошлым периодом
- Обновляйте данные автоматически
- Делайте mobile-friendly (если нужно)

## Прогнозирование
### Методы:
- **Временные ряды**: ARIMA, exponential smoothing
- **Регрессия**: линейная, логистическая
- **Машинное обучение**: Random Forest, XGBoost
- **Простые методы**: moving average, trend extrapolation

### Оценка качества:
- **MAE** (Mean Absolute Error)
- **RMSE** (Root Mean Square Error)
- **MAPE** (Mean Absolute Percentage Error)

## RFM-анализ
### Сегментация клиентов:
- **R (Recency)**: давность последней покупки
- **F (Frequency)**: частота покупок
- **M (Monetary)**: сумма покупок

### Сегменты:
- **Champions**: RFM все высокие
- **Loyal**: высокий F
- **At Risk**: были активны, но давно не покупали
- **Lost**: низкий R, давно не возвращались

## ETL процессы
### Extract, Transform, Load:
1. **Extract**: извлечение данных из источников
2. **Transform**: очистка, трансформация
3. **Load**: загрузка в хранилище

### Инструменты:
- Apache Airflow: оркестрация
- dbt: трансформация данных
- Fivetran, Airbyte: data integration

## Best Practices
1. Начинайте с бизнес-вопроса, не с данных
2. Проверяйте качество данных перед анализом
3. Документируйте предположения и методы
4. Используйте визуализацию для коммуникации
5. Будьте критичны к выводам
6. Автоматизируйте повторяющиеся отчёты
7. Обучайте stakeholders чтению метрик
8. Версионируйте аналитические запросы

## Применение в агентах
Аналитические агенты могут:
- Проводить анализ данных
- Строить SQL-запросы
- Создавать дашборды (описание структуры)
- Интерпретировать метрики
- Разрабатывать системы KPI
- Помогать с A/B тестами
- Проводить когортный анализ
- Давать рекомендации по оптимизации

## Ресурсы для изучения
### Книги:
- "Data Science for Business" — Provost & Fawcett
- "Storytelling with Data" — Cole Nussbaumer Knaflic
- "Lean Analytics" — Croll & Yoskovitz

### Курсы:
- Coursera: Business Analytics Specialization
- DataCamp: SQL, Python для аналитики
- Kaggle: практика на реальных данных

### Инструменты:
- Mode Analytics: SQL + визуализация
- Google Colab: Python notebooks
- SQLZoo, LeetCode: практика SQL
